# Part 2.데이터 구조체
## 2장 시퀀스
파이썬은 시퀀스를 단일하게 처리한다.
<p>이는 리스트, 문자열, 바이트 시퀀스, 배열 등에 반복, 슬라이싱, 정렬 등의 연산을 공통되게 적용할 수 있음을 의미한다.

파이썬에서 제공하는 시퀀스 인터페이스를 따라 코딩하면, 파이썬에서 기존, 향후에 제공하는 시퀀스 자료형을 적절히 지원하고 활용할 수 있따.

### 내장 시퀀스 개요
파이썬의 내장 시퀀스는 다음과 같이 분류할 수 있다.
>**컨테이너 시퀀스**<p>
>서로 다른 자료형의 항목을 담을 수 있는 list, tuple, collection.deque<p>
>**균일 시퀀스**
><p>단 하나의 자료형만 담을 수 있는 str, bytes, bytearray, memoryview, array.array 등

컨테이너 시퀀스는 객체에 대한 참조를 담고 있어 다양한 자료형을 담을 수 있지만 균일 시퀀스는 그렇지 않기에 균일 시퀀스가 메모리를 더 적게 사용한다.

시퀀스는 가변성에 따라 분류할 수도 있다.
>**가변 시퀀스**<p>
>list, bytearray, array.array, collection.deque, memoryview 형
><p>**불변 시퀀스**
><p>tuple, str, bytes 형

### 지능형 리스트, 제너레이터 표현식
지능형 리스트(리스트인 경우)와 제너레이터 표현식(이외의 경우)를 활용하여 간단하게 시퀀스에 값을 담을 수 있다.

지능형 리스트는 listcomp, 제너레이터 표현식은 genexp로 표현하기도 한다.

~~~python
symbols='$%^&*'
codes = [ord(symbol) for symbol in symbols]
~~~
지능형 리스트 예제

지능형 리스트는 두개 이상의 반복 가능한 자료형의 데카르트 곱을 나타내는 일련의 리스트를 만들 수도 있다.
이러한 예제를 데카르트 곱.py에서 확인할 수 있다.

지능형 리스트는 이러한 방식으로 똑똑하게 리스트를 만들 수 있다.
리스트 이외의 시퀀스를 만드는 일에는 제너레이터 표현식을 사용한다.

제네레이터 표현식은 시퀀스에 삽입할 항목을 한번에 하나씩 생성하므로, 리스트를 생성하는 지능형 리스트에 비해 적은 메모리를 사용하는 장점이 있다.

~~~python
symbols='$%^&*'
tuple(ord(symbol) for symbol in symbols)
~~~

이러한 특성은 리스트 이외의 시퀀스를 만들거나, 메모리에 계속 저장해 둘 필요가 없는 데이터를 다룰 때 활용할 수 있다.

### 튜플
튜플은 보통 '불변 리스트'로서 알려져 있지만, 이외에도 필드명이 없는 레코드로 사용가느하다.

#### 레코드로서의 튜플
튜플은 레코드를 담고있다. 각 항목은 레코드의 필드 하나를 의미하고, 항목의 위치가 의미를 결정한다.

예제 코드는 레코드로서의 튜플.py에 있다.

튜플 언패킹은 반복 가능한 객체라면 어느 객체든 사용 가능하다.
<p>최근 튜플 언패킹이라는 용어와 함께 반복형 언패킹(Iterable unpacking)이라는 용어도 병용되고 있다.

~~~python
b,a = a,b
~~~
python 의 간단한 swap 을 보여주는 위 예제 코드도 사실 튜플 언패킹의 응용이다.

함수를 호출할 때, 인수 앞에 *을 붙여 튜플을 언패킹 할 수도 있다.
~~~python
t = (20, 8)
divmod(*t)
#위 코드는 divmod(20,8)과 같은 결과를 반환한다.
>>(2,4)
~~~

초과 항목을 잡기 위해 *을 사용할 수도 있다.
~~~python
a, b, *rest = range(5)
>>(0, 1, [2,3,4])
~~~

~~~python
a, *body, c, d = range(5)
>>(0, [1,2], 3, 4)
~~~

##### 내포된 튜플 언패킹하기
튜플 안의 튜플도 언패킹 할 수 있다.

~~~python
metro_areas = [
    ('Mexico City', 'MX', 20.142, (19.433333, -99.133333))
]

for name, cc, pop, (latitude, longitude) in metro_areas:
    print(name, cc, pop, latitude, longitude)
~~~

위 코드는 내부의 인자를 튜플로 받고, 이를 다시 언패킹 했다.

#### 명명된 튜플 (namedtuple)
일반적인 튜플은 데이터 레코드로 사용하기에 약간 부족하여, namedtuple()이 고안되었다.

namedtuple은 필드명과 클래스명을 추가한 튜플의 서브클래스를 생성한다.
필드명이 클래스명으로서 저장되므로, 메모리는 일반적인 튜플과 같은 용량을 사용한다.

파이썬 카드 한 벌.py에서 아래와 같이 사용된 바 있다.
~~~python
Card = collections.namedtuple('Card', ['rank', 'suit']
~~~

아래와 같이 사용할 수 있다.
~~~
City = namedtuple('City', 'name country population coordinates')
seoul = City('Seoul', 'KR', 52, (32.3242, 34.23423))
seoul.population
>>52
~~~

namedtuple은 기존 튜플에 없는 몇가지 속성을 갖고 있는데, 이는 namedtuple.py에 코드로 작성하였다.

#### 불변 리스트로서의 튜플
튜플은 항목을 추가하거나 제거하는 기능 및 \_\_reversed\_\_() 메소드를 제외하고 리스트가 제공하는 모든 메소드를 지원한다.